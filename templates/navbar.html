<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
  <div class="container">
    <a class="navbar-brand" href="{% url 'users:home' %}">
      <i class="fas fa-briefcase me-2"></i>SmartRecruit
    </a>

    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        {% if user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'users:home' %}">
            <i class="fas fa-home me-1"></i>Accueil
          </a>
        </li>

        {% if user.is_candidate %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'candidatures:my_candidatures' %}">
            <i class="fas fa-file-alt me-1"></i>Mes Candidatures
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'candidatures:create' %}">
            <i class="fas fa-plus me-1"></i>Nouvelle Candidature
          </a>
        </li>
        {% endif %} {% if user.is_recruiter or user.is_admin %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'candidatures:list' %}">
            <i class="fas fa-list me-1"></i>Candidatures
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'candidatures:dashboard' %}">
            <i class="fas fa-chart-bar me-1"></i>Tableau de Bord
          </a>
        </li>
        {% endif %} {% if user.is_admin %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'users:list' %}">
            <i class="fas fa-users me-1"></i>Utilisateurs
          </a>
        </li>
        {% endif %} {% endif %}
      </ul>

      <ul class="navbar-nav">
        {% if user.is_authenticated %}
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle d-flex align-items-center"
            href="#"
            id="navbarDropdown"
            role="button"
            data-bs-toggle="dropdown"
          >
            <i class="fas fa-user-circle me-2"></i>
            <span>{{ user.first_name|default:user.username }}</span>
            <span class="badge bg-primary ms-2 badge-role"
              >{{ user.get_role_display }}</span
            >
          </a>
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" href="{% url 'users:profile' %}">
                <i class="fas fa-user me-2"></i>Mon Profil
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="{% url 'users:settings' %}">
                <i class="fas fa-cog me-2"></i>Paramètres
              </a>
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <a
                class="dropdown-item text-danger"
                href="{% url 'users:logout' %}"
              >
                <i class="fas fa-sign-out-alt me-2"></i>Déconnexion
              </a>
            </li>
          </ul>
        </li>
        {% else %}
        <li class="nav-item">
          <a class="nav-link" href="{% url 'users:login' %}">
            <i class="fas fa-sign-in-alt me-1"></i>Connexion
          </a>
        </li>
        <li class="nav-item">
          <a class="btn btn-primary ms-2" href="{% url 'users:register' %}">
            <i class="fas fa-user-plus me-1"></i>S'inscrire
          </a>
        </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>
